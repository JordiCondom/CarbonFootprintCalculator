<!DOCTYPE html>
<html>
<head>
	<title>Track Data</title>
    <link rel="stylesheet" type="text/css" href="/static/style.css">
	<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

<div class="container">
	<a href="/logout" class="logout-button">Logout</a>
	<h1>Track Data</h1>

	<form action="/track" method="post">
		<div class="form-group">
		  <label for="fromDate">From:</label>
		  <input type="date" id="fromDate" name="fromDate" class="form-control">
		</div>
		
		<div class="form-group">
		  <label for="toDate">To:</label>
		  <input type="date" id="toDate" name="toDate" class="form-control">
		</div>
		
		<input type="submit" value="Track data within selected dates">

		{% if error %}
		<p style="color: red">{{ error }}</p>
		{% endif %}
	  </form>
	
	<p>Here's a plot of the data from {{from_date }} to {{to_date}}:</p>
	<div id="chart"></div>
    <a href="/dashboard" class="button">Back to Dashboard</a>
</div>
<script>
	// Retrieve the graph data from the Flask route
	var pieGraphData = {{ pie_graph_data | tojson | safe }};

	// Parse the JSON data
	var data = JSON.parse(pieGraphData);
	console.log(data)
	// Configure the chart layout
	var layout = {
		title: 'Pie Chart',
		height: 400,
		width: 500
	};

	// Display the pie chart
	Plotly.newPlot('chart', data, layout);
</script>
</body>
</html>
